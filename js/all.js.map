{"version":3,"sources":["mikireader-main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["var Book;\n\nfunction handleFileSelect(evt) {\n    document.querySelectorAll(\"#area div\").forEach(div => {\n        div.remove();\n    })\n    evt.stopPropagation();\n    evt.preventDefault();\n    var files = evt.dataTransfer.files;\n    var path = (window.URL || window.webkitURL).createObjectURL(files[0]);\n    XMLRequest(path, readBook);\n}\n\nfunction XMLRequest(path, cb) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', path, true);\n    xhr.responseType = 'arraybuffer';\n    xhr.onload = function (e) {\n        if (this.status == 200) {\n            cb(this.response);\n        }\n    };\n    xhr.send();\n}\n\nfunction readBook(blob) {\n    Book = ePub(blob);\n    Book.renderTo(\"area\");\n    $(\"#drop_zone\").css(\"display\", \"none\");\n    $(\".turnPage\").css(\"display\", \"block\");\n    $(\"#area\").addClass(\"margin-top-auto\");\n}\n\nfunction handleDragOver(evt) {\n    evt.stopPropagation();\n    evt.preventDefault();\n    evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.\n}\n\nfunction prevPage() {\n    Book.prevPage();\n}\n\nfunction nextPage() {\n    Book.nextPage();\n}\n\nvar dropZone = document.getElementById('drop_zone');\ndropZone.addEventListener('dragover', handleDragOver, false);\ndropZone.addEventListener('drop', handleFileSelect, false);"]}