<html>

<head>
    <title>ereader</title>
    <script src="assets/epub.js"></script>
    <script src="assets/zip.min.js"></script>
</head>

<body>
    <div id="drop_zone">Drop files here</div>
    <output id="list"></output>
    <div id="area">

        <script>
            // file:///Users/micaelrobles/Documents/Programacio%CC%81n/ereader/www/test/Frontend_Architecture_for_Design_Systems.epub


            function handleFileSelect(evt) {
                evt.stopPropagation();
                evt.preventDefault();

                var files = evt.dataTransfer.files; // FileList object.
                // files is a FileList of File objects. List some properties.
                //var tmppath = URL.createObjectURL(files[0]);
                var path = (window.URL || window.webkitURL).createObjectURL(files[0]);
               // console.log('path', path);
                var Book = ePub(path);
                console.log(path)
                Book.renderTo("area")
                //reader.readAsDataURL(files[0])

            }

            function handleDragOver(evt) {
                evt.stopPropagation();
                evt.preventDefault();
                evt.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
            }

            // Setup the dnd listeners.
            var dropZone = document.getElementById('drop_zone');
            dropZone.addEventListener('dragover', handleDragOver, false);
            dropZone.addEventListener('drop', handleFileSelect, false);
        </script>
</body>

</html>